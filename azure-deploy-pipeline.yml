pool:
  name	: $(selfAgentPool)

variables:
- group: prod-var-connections

trigger: none

resources:
  pipelines:
  - pipeline: mobio-scripting # Name of the pipeline resource.
    source: mobio-scripting # The name of the pipeline referenced by this pipeline resource.
    trigger: true

stages:
- stage: Init
  jobs:
  - job: Init
    steps:
    - bash: |
        cd scripting
        chmod +x script-apply-mobio-services.sh
        ./script-apply-mobio-services.sh	
      displayName: 'Run deploy script'
    # - task: Kubernetes@1
    #   displayName: kubectl apply
    #   inputs:
    #     connectionType: 'Kubernetes Service Connection'
    #     kubernetesServiceEndpoint: $(kubernetesServiceConnection)
    #     namespace: $(nameSpace)
    #     command: apply
    #     arguments: -f base/pv.yaml

    # - task: Kubernetes@1
    #   displayName: kubectl apply
    #   inputs:
    #     connectionType: 'Kubernetes Service Connection'
    #     kubernetesServiceEndpoint: $(kubernetesServiceConnection)
    #     namespace: $(nameSpace)
    #     command: apply
    #     arguments: -f base/pvc.yaml
    
    